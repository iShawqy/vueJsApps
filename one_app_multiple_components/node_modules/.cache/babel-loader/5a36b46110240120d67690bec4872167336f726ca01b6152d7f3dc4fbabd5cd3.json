{"ast":null,"code":"export default {\n  name: \"rectangleElement\",\n  props: {\n    mousePosX: {\n      type: Number,\n      default: 0\n    },\n    mousePosY: {\n      type: Number,\n      default: 0\n    },\n    width: {\n      type: String,\n      default: '300px'\n    },\n    height: {\n      type: String,\n      default: '100px'\n    },\n    backgroundColor: {\n      type: String,\n      default: 'green'\n    },\n    canMove: {\n      type: Boolean,\n      default: true\n    },\n    adjustable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      dragging: false,\n      draggingIntervalId: null,\n      editingIntervalId: null,\n      elementPosX: 0,\n      elementPosY: 0,\n      offsetX: 0,\n      offsetY: 0,\n      editingFlag: false,\n      startPosX: 0,\n      startPosY: 0,\n      originalWidth: 0,\n      originalHeight: 0,\n      baseStyle: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        backgroundColor: this.backgroundColor,\n        width: this.width,\n        height: this.height,\n        fontSize: '30px',\n        fontFamily: 'Arial',\n        border: 'none',\n        // padding: '20px',\n        textAlign: 'center',\n        textDecoration: 'none',\n        display: 'inline-flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n\n        // margin: '4px 2px',\n        // borderRadius: '100%',\n      }\n    };\n  },\n\n  methods: {\n    executeMouseDown(event) {\n      if (event.button == 0) {\n        this.startDragging();\n      }\n    },\n    executeMouseUp(event) {\n      if (event.button == 0) {\n        this.stopDragging();\n      }\n    },\n    startDragging() {\n      if (this.canMove && !this.editingFlag) {\n        this.dragging = true;\n        this.offsetY = this.mousePosY - this.elementPosY;\n        this.offsetX = this.mousePosX - this.elementPosX;\n        this.draggingIntervalId = setInterval(() => {\n          this.drag();\n        }, 25);\n      }\n    },\n    stopDragging() {\n      this.dragging = false;\n      clearInterval(this.draggingIntervalId);\n    },\n    drag() {\n      if (this.dragging) {\n        this.elementPosX = this.mousePosX - this.offsetX;\n        this.elementPosY = this.mousePosY - this.offsetY;\n        this.baseStyle.top = this.elementPosY.toString() + 'px';\n        this.baseStyle.left = this.elementPosX.toString() + 'px';\n      }\n    },\n    editElementProps() {\n      if (this.adjustable) {\n        this.editingFlag = true;\n        this.originalWidth = this.baseStyle.width;\n        this.originalHeight = this.baseStyle.height;\n        // this.baseStyle.width = '50px';\n        this.baseStyle.border = '5px dashed black';\n        this.startPosX = this.mousePosX;\n        this.startPosY = this.mousePosY;\n        this.editingIntervalId = setInterval(() => {\n          this.resize();\n        }, 25);\n      }\n    },\n    setElementProps(event) {\n      if (event.key == \"Enter\") {\n        this.baseStyle.border = '0px';\n        this.editingFlag = false;\n        clearInterval(this.editingIntervalId);\n      } else if (event.key == \"Escape\") {\n        this.baseStyle.border = '0px';\n        this.editingFlag = false;\n        clearInterval(this.editingIntervalId);\n        this.baseStyle.width = this.originalWidth;\n        this.baseStyle.height = this.originalHeight;\n      }\n    },\n    resize() {\n      if (this.editingFlag) {\n        var width = parseInt(this.baseStyle.width.split(\"px\")[0]) + (this.mousePosX - this.startPosX);\n        var height = parseInt(this.baseStyle.height.split(\"px\")[0]) + (this.mousePosY - this.startPosY);\n        if (width < 0) {\n          width *= -1;\n        }\n        if (height < 0) {\n          height *= -1;\n        }\n        // var biggerDimension = 0;\n        // if (width >= height){\n        //   biggerDimension = width;\n        // } else {\n        //   biggerDimension = height;\n        // }\n\n        if (width < 5) {\n          width = 5;\n        }\n        if (height < 5) {\n          height = 5;\n        }\n        this.baseStyle.width = width.toString() + 'px';\n        this.baseStyle.height = height.toString() + 'px';\n        this.startPosX = this.mousePosX;\n        this.startPosY = this.mousePosY;\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","props","mousePosX","type","Number","default","mousePosY","width","String","height","backgroundColor","canMove","Boolean","adjustable","data","dragging","draggingIntervalId","editingIntervalId","elementPosX","elementPosY","offsetX","offsetY","editingFlag","startPosX","startPosY","originalWidth","originalHeight","baseStyle","position","top","left","fontSize","fontFamily","border","textAlign","textDecoration","display","flexDirection","justifyContent","alignItems","methods","executeMouseDown","event","button","startDragging","executeMouseUp","stopDragging","setInterval","drag","clearInterval","toString","editElementProps","resize","setElementProps","key","parseInt","split"],"sourceRoot":"","sources":["/Users/ihm/myDrive/private/learning_vue/one_app_multiple_components/src/components/movableElements/rectangleElement.vue"],"sourcesContent":["<template>\n<div :style=\"[baseStyle]\" @mousedown=\"executeMouseDown($event)\"\n     @mouseup=\"executeMouseUp($event)\" @dblclick=\"editElementProps\"\n     v-on:keyup=\"setElementProps($event)\" tabindex=\"0\"\n>\n\n  </div>\n</template>\n\n<script>\nexport default {\nname: \"rectangleElement\",\n  props: {\n          mousePosX: {\n            type: Number,\n            default: 0\n          },\n          mousePosY: {\n            type: Number,\n            default: 0\n          },\n          width: {\n                  type: String,\n                  default: '300px'\n                },\n         height: {\n                  type: String,\n                  default: '100px'\n                },\n         backgroundColor: {\n                   type: String,\n                   default: 'green'\n                  },\n         canMove: {\n           type: Boolean,\n           default: true,\n         },\n         adjustable: {\n                    type: Boolean,\n                    default: true,\n         },\n\n         },\n  data(){\n  return {\n    dragging: false,\n    draggingIntervalId: null,\n    editingIntervalId: null,\n    elementPosX: 0,\n    elementPosY:0,\n    offsetX:0,\n    offsetY:0,\n    editingFlag: false,\n    startPosX: 0,\n    startPosY: 0,\n    originalWidth: 0,\n    originalHeight: 0,\n\n    baseStyle: {\n      position: 'absolute',\n      top: '0px',\n      left: '0px',\n      backgroundColor: this.backgroundColor,\n      width: this.width,\n      height: this.height,\n      fontSize: '30px',\n      fontFamily: 'Arial',\n      border: 'none',\n\n      // padding: '20px',\n      textAlign: 'center',\n      textDecoration: 'none',\n      display: 'inline-flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n\n      // margin: '4px 2px',\n      // borderRadius: '100%',\n\n    },\n\n  }\n  },\n  methods: {\n            executeMouseDown(event){\n              if (event.button == 0) {\n                this.startDragging()\n              }\n            },\n            executeMouseUp(event){\n              if (event.button == 0) {\n                this.stopDragging()\n              }\n            },\n            startDragging(){\n\n                if (this.canMove && !this.editingFlag) {\n                  this.dragging = true;\n                  this.offsetY = this.mousePosY - this.elementPosY;\n                  this.offsetX = this.mousePosX - this.elementPosX;\n                  this.draggingIntervalId = setInterval(() => {\n                    this.drag();\n                  }, 25);\n                }\n\n\n\n            },\n            stopDragging(){\n\n                this.dragging = false\n                clearInterval(this.draggingIntervalId)\n\n              },\n            drag(){\n              if (this.dragging){\n                this.elementPosX = this.mousePosX - this.offsetX;\n                this.elementPosY = this.mousePosY - this.offsetY;\n                this.baseStyle.top = this.elementPosY.toString() +'px';\n                this.baseStyle.left = this.elementPosX.toString() +'px';\n\n              }\n              },\n            editElementProps(){\n              if (this.adjustable) {\n                this.editingFlag = true;\n                this.originalWidth = this.baseStyle.width;\n                this.originalHeight = this.baseStyle.height;\n                // this.baseStyle.width = '50px';\n                this.baseStyle.border = '5px dashed black'\n                this.startPosX = this.mousePosX;\n                this.startPosY = this.mousePosY;\n                this.editingIntervalId = setInterval(() => {\n                        this.resize();\n                      }, 25);\n              }\n            },\n            setElementProps(event){\n              if (event.key == \"Enter\"){\n                this.baseStyle.border = '0px';\n              this.editingFlag = false;\n              clearInterval(this.editingIntervalId)\n              }\n              else if (event.key== \"Escape\") {\n                this.baseStyle.border = '0px';\n              this.editingFlag = false;\n              clearInterval(this.editingIntervalId)\n                this.baseStyle.width = this.originalWidth;\n                  this.baseStyle.height = this.originalHeight;\n              }\n\n            },\n            resize(){\n              if (this.editingFlag){\n                var width = parseInt(this.baseStyle.width.split(\"px\")[0]) +(this.mousePosX - this.startPosX);\n                var height = parseInt(this.baseStyle.height.split(\"px\")[0])+ (this.mousePosY - this.startPosY);\n                if (width <0) {\n                  width *= -1;\n                }\n\n                if (height <0) {\n                  height *= -1;\n                }\n                  // var biggerDimension = 0;\n                  // if (width >= height){\n                  //   biggerDimension = width;\n                  // } else {\n                  //   biggerDimension = height;\n                  // }\n\n                  if (width < 5){\n                    width = 5;\n                  }\n\n                  if (height < 5){\n                    height = 5;\n                  }\n                  this.baseStyle.width = width.toString() + 'px';\n                  this.baseStyle.height = height.toString() + 'px';\n                  this.startPosX = this.mousePosX;\n                  this.startPosY = this.mousePosY;\n\n              }\n\n            },\n\n  },\n\n\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}